---
// src/pages/index.astro
import Layout from '@/layouts/Layout.astro';
import Button from '@/components/Button.astro';
import SectionHeading from '@/components/SectionHeading.astro';
import Card from '@/components/Card.astro';
import SubstackCard from '@/components/SubstackCard.astro';
import topPosts from '@/content/top_posts.json';

const toolkitLinks = [
  { name: "My Guide to AI & Careers", url: "/toolkit" },
  { name: "Get My AI Prompts", url: "/toolkit" },
  { name: "AI Robot Club", url: "/toolkit" },
  { name: "My AI Projects", url: "/toolkit" },
  { name: "My Story", url: "/toolkit" },
  { name: "Get In Touch", url: "/toolkit" },
];
---
<Layout>
  <main>
    <!-- 1. Hero: Value Proposition -->
    <section class="py-32 md:py-40 relative">
      <div class="max-w-[90rem] mx-auto px-6 md:px-10 grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
        <!-- Left: Text -->
        <div class="space-y-6">
          <h1 class="hero-title font-geograph-black text-5xl sm:text-6xl lg:text-7xl leading-tight tracking-tight max-w-3xl">
            Clarity in the Age of AI Chaos
          </h1>
          <p class="text-lg text-secondary max-w-2xl">
            Exploring AI, strategy, and how to build meaningful things. I write essays to think better and share what I learn.
          </p>
          <div>
            <Button href="#posts" variant="primary">Explore Top Posts</Button>
          </div>
        </div>
        <!-- Right: Decorative block -->
        <div class="hidden md:block">
          <div class="h-64 bg-gradient-to-br from-cyan-500 to-purple-600 rounded-xl"></div>
        </div>
      </div>
    </section>

    <!-- 2. Top Posts Section -->
    <section id="posts" class="py-24 sm:py-32">
      <div class="max-w-[90rem] mx-auto px-6 md:px-10">
        <div class="text-center">
          <SectionHeading>Top Posts</SectionHeading>
        </div>
        <div class="mt-16 grid grid-cols-1 gap-12 md:grid-cols-3">
          {topPosts.slice(0, 3).map((post: any) => <Card {...post} />)}
        </div>
      </div>
    </section>

    <!-- 3. Simple Product/Link Grid -->
    <section id="toolkit" class="py-24 md:py-32">
      <div class="max-w-[90rem] mx-auto px-6 md:px-10">
        <div class="text-center">
          <SectionHeading>The Toolkit</SectionHeading>
        </div>
        <div class="mt-16 flex flex-wrap justify-center gap-8">
          {toolkitLinks.map((link, index) => (
            <Button
              href={link.url}
              variant={index < 4 ? 'primary' : 'outline'}
              class={index >= 4 ? 'opacity-60 hover:opacity-80' : ''}
            >
              {link.name}
            </Button>
          ))}
        </div>
      </div>
    </section>

    <!-- 4. Email Signup (The Earned Ask) -->
    <section id="subscribe" class="py-24 md:py-32">
      <div class="max-w-[90rem] mx-auto px-6 md:px-10">
        <div class="mx-auto max-w-3xl bg-card-navy rounded-2xl p-12 border border-cyan-400/20 shadow-lg">
          <div class="text-center">
            <SectionHeading>Want this thinking delivered daily?</SectionHeading>
            <p class="mt-6 text-lg text-secondary">Subscribe to get my daily AI briefing. Zero fluff, maximum signal.</p>
          </div>
          <div class="mt-8">
            <!-- SubstackCard does not need changes, it contains its own form -->
            <SubstackCard />
          </div>
        </div>
      </div>
    </section>

    <!-- 5. Professional Bio (Final Trust Builder) -->
    <section id="bio" class="py-24 md:py-32">
      <div class="max-w-[90rem] mx-auto px-6 md:px-10">
        <div class="max-w-3xl mx-auto text-center">
          <SectionHeading>About Nate</SectionHeading>
          <p class="mt-6 text-xl text-secondary">I help teams navigate ambiguity and leverage AI to build better products, faster. My talks focus on actionable frameworks for product strategy, AI-native workflows, and building high-performance teams.</p>
        </div>
      </div>
    </section>
  </main>
</Layout>