---
// Premium Card Component - Sophisticated container design
interface Props {
  postUrl: string;
  title: string;
  description: string;
  date?: string;
  readTime?: string;
  variant?: 'default' | 'elevated' | 'featured';
  size?: 'sm' | 'md' | 'lg';
  imageUrl?: string;
}

const { 
  postUrl, 
  title, 
  description, 
  date = "Dec 15, 2024", 
  readTime = "8 min read",
  variant = 'default',
  size = 'md',
  imageUrl
} = Astro.props;

// Sophisticated base classes with premium interactions
const baseClasses = "group block h-full overflow-hidden transform transition-all duration-500 ease-out focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface-primary";

// Size variants for varied layouts (breaks uniform grid)
const sizeClasses = {
  sm: "rounded-lg",
  md: "rounded-xl", 
  lg: "rounded-2xl",
};

// Sophisticated card variants with unique proportions
const variantClasses = {
  // Standard card with subtle sophistication
  default: "bg-surface-secondary border border-surface-tertiary/50 hover:border-accent-primary/30 hover:-translate-y-2 hover:shadow-2xl hover:shadow-accent-primary/10",
  
  // Elevated with premium glow
  elevated: "bg-gradient-to-br from-surface-secondary to-surface-tertiary border border-accent-primary/20 shadow-lg shadow-accent-primary/5 hover:-translate-y-3 hover:shadow-2xl hover:shadow-accent-primary/20 hover:border-accent-primary/40",
  
  // Featured with striking design
  featured: "bg-gradient-to-br from-surface-tertiary via-surface-secondary to-surface-tertiary border border-accent-primary/30 shadow-xl shadow-accent-primary/10 hover:-translate-y-4 hover:shadow-2xl hover:shadow-accent-primary/25 hover:scale-[1.02]",
};

// Dynamic padding based on size
const paddingClasses = {
  sm: "p-6",
  md: "p-8", 
  lg: "p-10",
};
---

<a 
  href={postUrl} 
  target="_blank" 
  rel="noopener noreferrer" 
  class:list={[baseClasses, sizeClasses[size], variantClasses[variant]]}
>
  <!-- Sophisticated content structure -->
  <div class:list={[paddingClasses[size], "flex flex-col gap-6 h-full relative"]}>
    
    <!-- Premium glow effect overlay -->
    <div class="absolute inset-0 bg-gradient-to-br from-accent-primary/5 via-transparent to-accent-secondary/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 rounded-xl"></div>
    
    <!-- Content with proper z-index -->
    <div class="relative z-10 flex flex-col gap-6 h-full">
      <!-- Meta with sophisticated typography -->
      <div class="flex items-center justify-between">
        <time class="text-overline text-accent-primary">{date}</time>
        <span class="text-caption text-content-quaternary">{readTime}</span>
      </div>
      
      <!-- Title with dynamic sizing based on card size -->
      <h3 class={`${size === 'lg' ? 'text-headline' : size === 'md' ? 'text-title' : 'text-xl'} text-content-primary group-hover:text-accent-secondary transition-colors duration-300 leading-tight`}>
        {title}
      </h3>
      
      <!-- Description with perfect typography -->
      <p class="text-body text-content-secondary leading-relaxed flex-grow">
        {description}
      </p>
      
      <!-- Temporarily disabled image display until URL issues are resolved -->
      <!-- {imageUrl && (
        <div class="rounded-lg overflow-hidden border border-white/5 shadow-md group-hover:shadow-lg transition-all duration-300">
          <img 
            src={imageUrl} 
            alt={title}
            class="w-full h-auto object-cover transition-transform duration-300 group-hover:scale-[1.02]"
            loading="lazy"
          />
        </div>
      )} -->
      
      <!-- Sophisticated footer with visual cue -->
      <div class="flex items-center justify-between pt-6 mt-auto border-t border-content-quaternary/20">
        <span class="text-caption text-accent-primary font-medium group-hover:text-accent-secondary transition-colors">
          Read Article
        </span>
        
        <!-- Animated arrow -->
        <svg class="w-5 h-5 text-accent-primary transform group-hover:translate-x-1 group-hover:text-accent-secondary transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </div>
    </div>
  </div>
</a>
      <span class="ui-text text-content-tertiary">{readTime}</span>
      <span class="inline-flex items-center gap-2 ui-text text-accent-primary group-hover:text-accent-secondary transition-colors duration-200">
        Read more
        <svg 
          class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-200" 
          xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke-width="2" 
          stroke="currentColor"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
        </svg>
      </span>
    </div>
  </div>
</a>