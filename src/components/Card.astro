---
// src/components/Card.astro
interface Props {
  postUrl: string;
  title: string;
  description: string;
  date?: string;
  readTime?: string;
  variant?: 'default' | 'elevated';
}

const { 
  postUrl, 
  title, 
  description, 
  date = "Dec 15, 2024", 
  readTime = "8 min read",
  variant = 'default'
} = Astro.props;

// Card styling based on design system
const baseClasses = "group h-full rounded-xl overflow-hidden transform transition-all duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-surface-primary";

const variantClasses = {
  default: "card-base hover:-translate-y-1", // Subtle 2px lift as specified
  elevated: "card-elevated hover:-translate-y-1 hover:shadow-glow-cyan-sm",
};
---

<a 
  href={postUrl} 
  target="_blank" 
  rel="noopener noreferrer" 
  class:list={[baseClasses, variantClasses[variant]]}
>
  <div class="p-8 flex flex-col gap-6 h-full">
    <!-- Meta information with sophisticated styling -->
    <time class="ui-text text-accent-primary font-medium">{date}</time>
    
    <!-- Headline using design system typography -->
    <h3 class="headline-sm text-content-primary group-hover:text-accent-secondary transition-colors duration-200 line-clamp-2">
      {title}
    </h3>
    
    <!-- Description with perfect typography -->
    <p class="body-base text-content-secondary leading-relaxed line-clamp-3 flex-grow">
      {description}
    </p>
    
    <!-- Footer with sophisticated border treatment -->
    <div class="flex items-center justify-between pt-6 mt-auto border-t border-white/10">
      <span class="ui-text text-content-tertiary">{readTime}</span>
      <span class="inline-flex items-center gap-2 ui-text text-accent-primary group-hover:text-accent-secondary transition-colors duration-200">
        Read more
        <svg 
          class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-200" 
          xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke-width="2" 
          stroke="currentColor"
        >
          <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3" />
        </svg>
      </span>
    </div>
  </div>
</a>